webpackJsonp([3],{"+E39":function(e,t,n){e.exports=!n("S82l")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"+ZMJ":function(e,t,n){var r=n("lOnJ");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"77Pl":function(e,t,n){var r=n("EqjI");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},"7KvD":function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"9OBS":function(e,t,n){"use strict";function r(e){n("l3Ck")}Object.defineProperty(t,"__esModule",{value:!0});var i=n("Zrlr"),o=n.n(i),a=n("wxAW"),c=n.n(a),s=function(){function e(t,n,r){o()(this,e),this.canvas=t,this.ctx=t.getContext("2d"),this.width=t.width,this.height=t.height,this.frameImg=n,this.screenArea={w:r.w,h:r.h,x:r.x,y:r.y},this.init()}return c()(e,[{key:"init",value:function(){this.clear(),this.drawFrame()}},{key:"clear",value:function(){this.ctx.clearRect(0,0,this.width,this.height)}},{key:"clearScreenArea",value:function(){this.ctx.clearRect(this.screenArea.x,this.screenArea.y,this.screenArea.w,this.screenArea.h)}},{key:"drawFrame",value:function(){this.ctx.drawImage(this.frameImg,0,0,this.width,this.height)}},{key:"drawImage",value:function(e){var t=this.screenArea.w/e.width,n=this.screenArea.h/e.height,r=Math.min(t,n),i=this.screenArea.x+(this.screenArea.w-e.width*r)/2,o=this.screenArea.y+(this.screenArea.h-e.height*r)/2;this.clearScreenArea(),this.ctx.drawImage(e,0,0,e.width,e.height,i,o,e.width*r,e.height*r)}},{key:"toDataURL",value:function(e){if(e=e||"#000"){var t=this.ctx.globalCompositeOperation;this.ctx.globalCompositeOperation="destination-over",this.ctx.fillStyle=e,this.ctx.fillRect(this.screenArea.x,this.screenArea.y,this.screenArea.w,this.screenArea.h),this.ctx.globalCompositeOperation=t}return this.canvas.toDataURL("image/png")}}]),e}(),u={name:"mockup-tool",data:function(){return{board:null,ghostImg:null,ghostFrameImg:null,resultImgName:null,resultImgUrl:null,devices:[{name:"iOS",frameImgUrl:n("Ov3P"),canvasSize:{w:325,h:650},screenArea:{x:20,y:75,w:285,h:502}},{name:"Android",frameImgUrl:n("h6pK"),canvasSize:{w:325,h:640},screenArea:{x:20,y:58,w:287,h:520}}],deviceIndex:0}},mounted:function(){var e=this.devices[this.deviceIndex];this.initBoard(e)},computed:{canvasSize:function(){return this.devices[this.deviceIndex].canvasSize}},watch:{deviceIndex:function(e,t){var n=this,r=this.devices[e];this.initBoard(r,function(){n.ghostImg&&(n.board.drawImage(n.ghostImg),n.resultImgUrl=n.board.toDataURL())})}},methods:{initBoard:function(e,t){var n=this,r=document.getElementById("mockup-board");this.ghostFrameImg=this.ghostFrameImg?this.ghostFrameImg:new Image,this.ghostFrameImg.onload=function(){n.board=new s(r,n.ghostFrameImg,e.screenArea),t&&t()},this.ghostFrameImg.src=e.frameImgUrl},handleFile:function(e){var t=this,n=e.target.files[0];this.resultImgName="mock-"+n.name,this.ghostImg=this.ghostImg?this.ghostImg:new Image,this.ghostImg.onload=function(){t.board.drawImage(t.ghostImg),t.resultImgUrl=t.board.toDataURL(),URL.revokeObjectURL(t.ghostImg.src)},this.ghostImg.src=URL.createObjectURL(n)}}},l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page"},[n("h1",[e._v("Mock Tool")]),e._v(" "),n("div",{staticClass:"mockup-wrapper"},[n("div",{staticClass:"mockup-inner"},[n("canvas",{attrs:{id:"mockup-board",width:e.canvasSize.w,height:e.canvasSize.h}})]),e._v(" "),n("div",[e._v("\n      选择设备：\n      "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.deviceIndex,expression:"deviceIndex"}],attrs:{name:"",id:""},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.deviceIndex=t.target.multiple?n:n[0]}}},e._l(e.devices,function(t,r){return n("option",{domProps:{value:r}},[e._v(e._s(t.name))])})),e._v("\n\n      选择图片：\n      "),n("input",{attrs:{type:"file",accept:"image/*"},on:{change:e.handleFile}})]),e._v(" "),e.resultImgUrl?n("a",{staticClass:"btn-download",attrs:{href:e.resultImgUrl,download:e.devices[e.deviceIndex].name+"-"+e.resultImgName}},[e._v("下载")]):e._e()])])},f=[],h={render:l,staticRenderFns:f},d=h,p=n("VU/8"),m=r,v=p(u,d,!1,m,"data-v-f09f1ca4",null);t.default=v.exports},"9bBU":function(e,t,n){n("mClu");var r=n("FeBl").Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},C4MV:function(e,t,n){e.exports={default:n("9bBU"),__esModule:!0}},EqjI:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},FeBl:function(e,t){var n=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},MmMw:function(e,t,n){var r=n("EqjI");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},ON07:function(e,t,n){var r=n("EqjI"),i=n("7KvD").document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},Ov3P:function(e,t,n){e.exports=n.p+"static/img/mockup-ios.b6415d4.png"},S82l:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},SfB7:function(e,t,n){e.exports=!n("+E39")&&!n("S82l")(function(){return 7!=Object.defineProperty(n("ON07")("div"),"a",{get:function(){return 7}}).a})},TDxe:function(e,t,n){t=e.exports=n("FZ+f")(!0),t.push([e.i,"\n.page[data-v-f09f1ca4] {\n  min-width: 740px;\n  text-align: center;\n}\n.mockup-wrapper[data-v-f09f1ca4] {\n  position: relative;\n}\n/*.mockup-inner {\n  position: absolute;\n  width: 100%;\n  left: 0;\n  top: 0;\n}*/\n#mockup-board[data-v-f09f1ca4] {\n  width: 325px;\n  height: 650px;\n}\n.btn-download[data-v-f09f1ca4] {\n  display: inline-block;\n  margin: 20px;\n  padding: 5px 20px;\n  border: 1px solid blue;\n  color: blue;\n  text-decoration: none;\n}\n","",{version:3,sources:["/Users/alex/Code/toolbox/src/pages/mockup-tool.vue"],names:[],mappings:";AACA;EACE,iBAAiB;EACjB,mBAAmB;CACpB;AACD;EACE,mBAAmB;CACpB;AACD;;;;;GAKG;AACH;EACE,aAAa;EACb,cAAc;CACf;AACD;EACE,sBAAsB;EACtB,aAAa;EACb,kBAAkB;EAClB,uBAAuB;EACvB,YAAY;EACZ,sBAAsB;CACvB",file:"mockup-tool.vue",sourcesContent:["\n.page[data-v-f09f1ca4] {\n  min-width: 740px;\n  text-align: center;\n}\n.mockup-wrapper[data-v-f09f1ca4] {\n  position: relative;\n}\n/*.mockup-inner {\n  position: absolute;\n  width: 100%;\n  left: 0;\n  top: 0;\n}*/\n#mockup-board[data-v-f09f1ca4] {\n  width: 325px;\n  height: 650px;\n}\n.btn-download[data-v-f09f1ca4] {\n  display: inline-block;\n  margin: 20px;\n  padding: 5px 20px;\n  border: 1px solid blue;\n  color: blue;\n  text-decoration: none;\n}\n"],sourceRoot:""}])},X8DO:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},Zrlr:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},evD5:function(e,t,n){var r=n("77Pl"),i=n("SfB7"),o=n("MmMw"),a=Object.defineProperty;t.f=n("+E39")?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},h6pK:function(e,t,n){e.exports=n.p+"static/img/mockup-android.d3be0bb.png"},hJx8:function(e,t,n){var r=n("evD5"),i=n("X8DO");e.exports=n("+E39")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},kM2E:function(e,t,n){var r=n("7KvD"),i=n("FeBl"),o=n("+ZMJ"),a=n("hJx8"),c=function(e,t,n){var s,u,l,f=e&c.F,h=e&c.G,d=e&c.S,p=e&c.P,m=e&c.B,v=e&c.W,g=h?i:i[t]||(i[t]={}),x=g.prototype,A=h?r:d?r[t]:(r[t]||{}).prototype;h&&(n=t);for(s in n)(u=!f&&A&&void 0!==A[s])&&s in g||(l=u?A[s]:n[s],g[s]=h&&"function"!=typeof A[s]?n[s]:m&&u?o(l,r):v&&A[s]==l?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(l):p&&"function"==typeof l?o(Function.call,l):l,p&&((g.virtual||(g.virtual={}))[s]=l,e&c.R&&x&&!x[s]&&a(x,s,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},l3Ck:function(e,t,n){var r=n("TDxe");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n("rjj0")("012809b6",r,!0)},lOnJ:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},mClu:function(e,t,n){var r=n("kM2E");r(r.S+r.F*!n("+E39"),"Object",{defineProperty:n("evD5").f})},wxAW:function(e,t,n){"use strict";t.__esModule=!0;var r=n("C4MV"),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()}});
//# sourceMappingURL=3.d2e34cf81217a085108b.js.map