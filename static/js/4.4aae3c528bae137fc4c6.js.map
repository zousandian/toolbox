{"version":3,"sources":["webpack:///static/js/4.4aae3c528bae137fc4c6.js","webpack:///./src/pages/base64.vue?4f46","webpack:///./src/pages/base64.vue?99da","webpack:///./src/pages/base64.vue","webpack:///src/pages/base64.vue","webpack:///./src/pages/base64.vue?7e38"],"names":["webpackJsonp","JlKt","module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","Rlp9","content","locals","kqoK","__webpack_exports__","injectStyle","ssrContext","Object","defineProperty","value","reader","FileReader","base64","name","data","type","size","width","height","imgBase64","methods","handleFile","e","console","log","target","files","this","readAsDataURL","handleFileFromUrl","_this","url","trim","startsWith","alert","img","$refs","onload","canvas","document","createElement","ctx","getContext","naturalWidth","clientWidth","naturalHeight","clientHeight","drawImage","dataUrl","toDataURL","crossOrigin","src","mounted","_this2","result","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","accept","on","change","placeholder","keyup","$event","_k","keyCode","key","_s","toFixed","directives","rawName","expression","domProps","input","composing","_e","ref","alt","staticRenderFns","esExports","pages_base64","normalizeComponent","__vue_styles__","Component"],"mappings":"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","file":"static/js/4.4aae3c528bae137fc4c6.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ \"JlKt\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\\ndl[data-v-a5daa698] {\\n  float: left;\\n  width: calc(100% - 200px);\\n}\\n.preview[data-v-a5daa698] {\\n  max-width: 150px;\\n  float: right;\\n}\\ntextarea[data-v-a5daa698] {\\n  width: 100%;\\n  height: 500px;\\n  display: block;\\n}\\ninput[type=text][data-v-a5daa698] {\\n  width: 500px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/alex/Code/toolbox/src/pages/base64.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,YAAY;EACZ,0BAA0B;CAC3B;AACD;EACE,iBAAiB;EACjB,aAAa;CACd;AACD;EACE,YAAY;EACZ,cAAc;EACd,eAAe;CAChB;AACD;EACE,aAAa;CACd\",\"file\":\"base64.vue\",\"sourcesContent\":[\"\\ndl[data-v-a5daa698] {\\n  float: left;\\n  width: calc(100% - 200px);\\n}\\n.preview[data-v-a5daa698] {\\n  max-width: 150px;\\n  float: right;\\n}\\ntextarea[data-v-a5daa698] {\\n  width: 100%;\\n  height: 500px;\\n  display: block;\\n}\\ninput[type=text][data-v-a5daa698] {\\n  width: 500px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"Rlp9\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"JlKt\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"7ba83aa6\", content, true);\n\n/***/ }),\n\n/***/ \"kqoK\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/pages/base64.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar reader = new FileReader();\n\n/* harmony default export */ var base64 = ({\n  name: 'base64',\n  data: function data() {\n    return {\n      file: {\n        name: '',\n        type: '',\n        size: 0,\n        width: 0,\n        height: 0\n      },\n      imgBase64: ''\n    };\n  },\n\n  methods: {\n    handleFile: function handleFile(e) {\n      console.log(e.target.files);\n      var file = e.target.files[0];\n      this.file = {\n        name: file.name,\n        type: file.type,\n        size: file.size,\n        width: 0,\n        height: 0\n      };\n      reader.readAsDataURL(file);\n    },\n    handleFileFromUrl: function handleFileFromUrl(e) {\n      var _this = this;\n\n      var url = e.target.value.trim();\n      if (!url.startsWith('http')) {\n        alert('请输入正确的图片链接');\n        return;\n      }\n\n      var img = this.$refs.img;\n      img.onload = function (e) {\n        var canvas = document.createElement('canvas');\n        var ctx = canvas.getContext('2d');\n        canvas.width = img.naturalWidth || img.clientWidth;\n        canvas.height = img.naturalHeight || img.clientHeight;\n\n        ctx.drawImage(img, 0, 0);\n        var dataUrl = canvas.toDataURL('image/png');\n        _this.imgBase64 = dataUrl;\n      };\n\n      img.crossOrigin = 'Anonymous';\n      img.src = url;\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    reader.onload = function (e) {\n      _this2.imgBase64 = e.target.result;\n      img.src = _this2.imgBase64;\n    };\n\n    var img = this.$refs.img;\n    img.onload = function (e) {\n      console.log(img.naturalWidth || img.clientWidth, _this2);\n      _this2.file.width = img.naturalWidth || img.clientWidth;\n      _this2.file.height = img.naturalHeight || img.clientHeight;\n    };\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a5daa698\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/base64.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('h1',[_vm._v(\"Image to Base64\")]),_vm._v(\" \"),_c('section',[_c('div',[_c('p',[_vm._v(\"选择图片：\")]),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"file\",\"accept\":\"image/gif, image/png, image/jpg, image/jpeg\"},on:{\"change\":_vm.handleFile}}),_vm._v(\" \"),_c('p',[_vm._v(\"或者输入图片链接并回车：\")]),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"text\",\"placeholder\":\"输入图片链接\"},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.handleFileFromUrl($event)}}})]),_vm._v(\" \"),_c('div',[(_vm.imgBase64)?_c('dl',[_c('dt',[_vm._v(\"图片名称：\")]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.file.name))]),_vm._v(\" \"),_c('dt',[_vm._v(\"图片类型：\")]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.file.type))]),_vm._v(\" \"),_c('dt',[_vm._v(\"图片大小：\")]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s((_vm.file.size / 1024).toFixed(2))+\" KB\")]),_vm._v(\" \"),_c('dt',[_vm._v(\"图片尺寸：\")]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.file.width)+\" x \"+_vm._s(_vm.file.height))]),_vm._v(\" \"),_c('dt',[_vm._v(\"base64\")]),_vm._v(\" \"),_c('dd',[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.imgBase64),expression:\"imgBase64\"}],domProps:{\"value\":(_vm.imgBase64)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.imgBase64=$event.target.value}}})])]):_vm._e(),_vm._v(\" \"),_c('img',{ref:\"img\",staticClass:\"preview\",attrs:{\"alt\":\"\"}})])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var pages_base64 = (esExports);\n// CONCATENATED MODULE: ./src/pages/base64.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"Rlp9\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a5daa698\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  base64,\n  pages_base64,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_pages_base64 = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/4.4aae3c528bae137fc4c6.js","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\ndl[data-v-a5daa698] {\\n  float: left;\\n  width: calc(100% - 200px);\\n}\\n.preview[data-v-a5daa698] {\\n  max-width: 150px;\\n  float: right;\\n}\\ntextarea[data-v-a5daa698] {\\n  width: 100%;\\n  height: 500px;\\n  display: block;\\n}\\ninput[type=text][data-v-a5daa698] {\\n  width: 500px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/alex/Code/toolbox/src/pages/base64.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,YAAY;EACZ,0BAA0B;CAC3B;AACD;EACE,iBAAiB;EACjB,aAAa;CACd;AACD;EACE,YAAY;EACZ,cAAc;EACd,eAAe;CAChB;AACD;EACE,aAAa;CACd\",\"file\":\"base64.vue\",\"sourcesContent\":[\"\\ndl[data-v-a5daa698] {\\n  float: left;\\n  width: calc(100% - 200px);\\n}\\n.preview[data-v-a5daa698] {\\n  max-width: 150px;\\n  float: right;\\n}\\ntextarea[data-v-a5daa698] {\\n  width: 100%;\\n  height: 500px;\\n  display: block;\\n}\\ninput[type=text][data-v-a5daa698] {\\n  width: 500px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-a5daa698\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/base64.vue\n// module id = JlKt\n// module chunks = 4","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a5daa698\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./base64.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"7ba83aa6\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-a5daa698\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/base64.vue\n// module id = Rlp9\n// module chunks = 4","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a5daa698\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./base64.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base64.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a5daa698\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./base64.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a5daa698\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/base64.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"page\">\n    <h1>Image to Base64</h1>\n\n    <section>\n      <div>\n        <p>选择图片：</p>\n        <input type=\"file\" accept=\"image/gif, image/png, image/jpg, image/jpeg\" @change=\"handleFile\">\n        <p>或者输入图片链接并回车：</p>\n        <input type=\"text\" placeholder=\"输入图片链接\" @keyup.enter=\"handleFileFromUrl\">\n      </div>\n\n      <div>\n        <dl v-if=\"imgBase64\">\n          <dt>图片名称：</dt>\n          <dd>{{ file.name }}</dd>\n          <dt>图片类型：</dt>\n          <dd>{{ file.type }}</dd>\n          <dt>图片大小：</dt>\n          <dd>{{ (file.size / 1024).toFixed(2)  }} KB</dd>\n          <dt>图片尺寸：</dt>\n          <dd>{{ file.width }} x {{ file.height }}</dd>\n          <dt>base64</dt>\n          <dd>\n            <textarea v-model=\"imgBase64\"></textarea>\n          </dd>\n        </dl>\n        <img class=\"preview\" alt=\"\" ref=\"img\">\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nconst reader = new FileReader()\n\nexport default {\n  name: 'base64',\n  data () {\n    return {\n      file: {\n        name: '',\n        type: '',\n        size: 0,\n        width: 0,\n        height: 0\n      },\n      imgBase64: ''\n    }\n  },\n  methods: {\n    handleFile (e) {\n      console.log(e.target.files)\n      const file = e.target.files[0]\n      this.file = {\n        name: file.name,\n        type: file.type,\n        size: file.size,\n        width: 0,\n        height: 0\n      }\n      reader.readAsDataURL(file)\n    },\n    handleFileFromUrl (e) {\n      const url = e.target.value.trim()\n      if (!url.startsWith('http')) {\n        alert('请输入正确的图片链接')\n        return\n      }\n\n      const img = this.$refs.img\n      img.onload = (e) => {\n        const canvas = document.createElement('canvas')\n        const ctx = canvas.getContext('2d')\n        canvas.width = img.naturalWidth || img.clientWidth\n        canvas.height = img.naturalHeight || img.clientHeight\n\n        ctx.drawImage(img, 0, 0)\n        const dataUrl = canvas.toDataURL('image/png')\n        this.imgBase64 = dataUrl\n      }\n\n      img.crossOrigin = 'Anonymous'\n      img.src = url\n    }\n  },\n  mounted () {\n    reader.onload = (e) => {\n      this.imgBase64 = e.target.result\n      img.src = this.imgBase64\n    }\n\n    const img = this.$refs.img\n    img.onload = (e) => {\n      console.log(img.naturalWidth || img.clientWidth, this)\n      this.file.width = img.naturalWidth || img.clientWidth\n      this.file.height = img.naturalHeight || img.clientHeight\n    }\n  }\n}\n</script>\n\n<style scoped>\n  dl {\n    float: left;\n    width: calc(100% - 200px);\n  }\n  .preview {\n    max-width: 150px;\n    float: right;\n  }\n  textarea {\n    width: 100%;\n    height: 500px;\n    display: block;\n  }\n\n  input[type=text] {\n    width: 500px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/base64.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('h1',[_vm._v(\"Image to Base64\")]),_vm._v(\" \"),_c('section',[_c('div',[_c('p',[_vm._v(\"选择图片：\")]),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"file\",\"accept\":\"image/gif, image/png, image/jpg, image/jpeg\"},on:{\"change\":_vm.handleFile}}),_vm._v(\" \"),_c('p',[_vm._v(\"或者输入图片链接并回车：\")]),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"text\",\"placeholder\":\"输入图片链接\"},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.handleFileFromUrl($event)}}})]),_vm._v(\" \"),_c('div',[(_vm.imgBase64)?_c('dl',[_c('dt',[_vm._v(\"图片名称：\")]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.file.name))]),_vm._v(\" \"),_c('dt',[_vm._v(\"图片类型：\")]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.file.type))]),_vm._v(\" \"),_c('dt',[_vm._v(\"图片大小：\")]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s((_vm.file.size / 1024).toFixed(2))+\" KB\")]),_vm._v(\" \"),_c('dt',[_vm._v(\"图片尺寸：\")]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.file.width)+\" x \"+_vm._s(_vm.file.height))]),_vm._v(\" \"),_c('dt',[_vm._v(\"base64\")]),_vm._v(\" \"),_c('dd',[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.imgBase64),expression:\"imgBase64\"}],domProps:{\"value\":(_vm.imgBase64)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.imgBase64=$event.target.value}}})])]):_vm._e(),_vm._v(\" \"),_c('img',{ref:\"img\",staticClass:\"preview\",attrs:{\"alt\":\"\"}})])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a5daa698\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/base64.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}